!function($){"use strict";$((function(){$("input[type=checkbox][name=edac_add_footer_accessibility_statement]").on("change",(function(){this.checked?$("input[type=checkbox][name=edac_include_accessibility_statement_link]").prop("disabled",!1):($("input[type=checkbox][name=edac_include_accessibility_statement_link]").prop("disabled",!0),$("input[type=checkbox][name=edac_include_accessibility_statement_link]").prop("checked",!1))})),"none"==$("input[type=radio][name=edac_simplified_summary_position]:checked").val()&&$("#ac-simplified-summary-option-code").show(),$("input[type=radio][name=edac_simplified_summary_position]").on("load",(function(){"none"==this.value?$("#ac-simplified-summary-option-code").show():$("#ac-simplified-summary-option-code").hide()}))})),$(window).on("load",(function(){function e(){let e=edac_script_vars.postID;null!=e&&$.ajax({url:ajaxurl,method:"GET",data:{action:"edac_summary_ajax",post_id:e,nonce:edac_script_vars.nonce}}).done((function(e){if(!0===e.success){let a=$.parseJSON(e.data);a.password_protected&&s()?wp.data.dispatch("core/notices").createInfoNotice(a.password_protected,{id:"edac-password-protected-error",type:"default",speak:!0,__unstableHTML:!0}):$(".edac-summary").html(a)}else console.log(e)}))}function a(){let e=edac_script_vars.postID;null!=e&&$.ajax({url:ajaxurl,method:"GET",data:{action:"edac_details_ajax",post_id:e,nonce:edac_script_vars.nonce}}).done((function(e){if(!0===e.success){let a=$.parseJSON(e.data);$(".edac-details").html(a),$(".edac-details-rule-title").click((function(e){$(this).hasClass("active")?($(this).next().slideUp(),$(this).removeClass("active")):($(this).next().slideDown(),$(this).addClass("active"))})),$(".edac-details-rule-title-arrow").click((function(e){e.preventDefault()})),$(".edac-details-rule-records-record-actions-ignore").click((function(e){e.preventDefault(),$(this).parent().next(".edac-details-rule-records-record-ignore").slideToggle()})),o(),$(".edac-details-rule-records-record-actions-highlight").click((function(e){var a=$(".edac-details-rule-records-record-object code",$(this).parent().parent()).text();console.log(a);var t=$.parseHTML(a),c=t[0].nodeName;console.log(t),console.log(c);var i=t[0].id,o=t[0].classList.value,s=t[0].innerText,r=c,n=["href","src","alt","aria-hidden","role","focusable"];i&&"IMG"!=c&&(r+="#"+i),o&&"IMG"!=c&&(r+="."+o.replace(" ",".")),s&&"A"==c&&(r+=":contains('"+s+"')");var d="";$(t[0].attributes).each((function(e){-1!==jQuery.inArray(this.nodeName,n)&&""!=this.nodeValue&&(d+="["+this.nodeName+'="'+this.nodeValue+'"]')})),r+=d,console.log("Selector:"+r),$(r,".editor-styles-wrapper").css("outline","3px dashed red").css("outline-offset","2px")}))}else console.log(e)}))}function t(){let a=edac_script_vars.postID;null!=a&&$.ajax({url:ajaxurl,method:"GET",data:{action:"edac_readability_ajax",post_id:a,nonce:edac_script_vars.nonce}}).done((function(c){if(!0===c.success){let i=$.parseJSON(c.data);$(".edac-readability").html(i),$(".edac-readability-simplified-summary").submit((function(c){c.preventDefault();let i=$("#edac-readability-text").val();$.ajax({url:ajaxurl,method:"GET",data:{action:"edac_update_simplified_summary",post_id:a,summary:i,nonce:edac_script_vars.nonce}}).done((function(a){if(!0===a.success){$.parseJSON(a.data);t(),e()}else console.log(a)}))}))}else console.log(c)}))}if($(".edac-tab").click((function(e){e.preventDefault();var a=$("a",this).attr("href");$(".edac-panel").hide(),$(".edac-panel").removeClass("active"),$(".edac-tab a").removeClass("active").attr("aria-current",!1),$(a).show(),$(a).addClass("active"),$("a",this).addClass("active").attr("aria-current",!0)})),$(".edac-tab-summary").click((function(a){e()})),s()){var c=wp.data.select("core/edit-post"),i=!1;wp.data.subscribe((function(){var o=c.isSavingMetaBoxes();o&&$(".edac-panel").addClass("edac-panel-loading"),o===i||o||(i=o,e(),a(),t(),$(".edac-panel").removeClass("edac-panel-loading")),i=o}))}function o(){$(".edac-details-rule-records-record-ignore-submit").click((function(e){e.preventDefault();let a=[$(this).attr("data-id")],t=$(this).attr("data-action"),c=$(this).attr("data-type"),i=$(".edac-details-rule-records-record-ignore-comment",$(this).parent()).val();$.ajax({url:ajaxurl,method:"GET",data:{action:"edac_insert_ignore_data",ids:a,comment:i,ignore_action:t,ignore_type:c,nonce:edac_script_vars.nonce}}).done((function(e){if(!0===e.success){let c=$.parseJSON(e.data),i="#edac-details-rule-records-record-"+c.ids[0],o="enable"==c.action?"disable":"enable",s="enable"==c.action,r="enable"==c.action?"Ignored":"Ignore",n="enable"==c.action?"Stop Ignoring":"Ignore This "+c.type,d=c.user?"<strong>Username:</strong> "+c.user:"",l=c.date?"<strong>Date:</strong> "+c.date:"";$(i+" .edac-details-rule-records-record-ignore-submit").attr("data-action",o),$(i+" .edac-details-rule-records-record-ignore-comment").attr("disabled",s),"enable"!=c.action&&$(i+" .edac-details-rule-records-record-ignore-comment").val(""),$(i+" .edac-details-rule-records-record-actions-ignore").toggleClass("active"),$(".edac-details-rule-records-record-actions-ignore[data-id='"+a[0]+"']").toggleClass("active"),$(i+" .edac-details-rule-records-record-actions-ignore-label").html(r),$(".edac-details-rule-records-record-actions-ignore[data-id='"+a[0]+"'] .edac-details-rule-records-record-actions-ignore-label").html(r),$(i+" .edac-details-rule-records-record-ignore-submit-label").html(n),$(i+" .edac-details-rule-records-record-ignore-info-user").html(d),$(i+" .edac-details-rule-records-record-ignore-info-date").html(l);let u=$(i).parents(".edac-details-rule"),p=parseInt($(".edac-details-rule-count",u).html());"enable"==c.action?p--:"disable"==c.action&&p++,0==p?$(".edac-details-rule-count",u).removeClass("active"):$(".edac-details-rule-count",u).addClass("active"),p.toString(),$(".edac-details-rule-count",u).html(p);var t=parseInt($(".edac-details-rule-count-ignore",u).html());"enable"==c.action?t++:"disable"==c.action&&t--,0==t?$(".edac-details-rule-count-ignore",u).hide():$(".edac-details-rule-count-ignore",u).show(),t.toString(),$(".edac-details-rule-count-ignore",u).html(t),($("body").hasClass("accessibility-checker_page_accessibility_checker_issues")||$("body").hasClass("accessibility-checker_page_accessibility_checker_ignored"))&&location.reload(!0)}else console.log(e)}))}))}function s(){return!document.body.classList.contains("widgets-php")&&document.body.classList.contains("block-editor-page")}function r(e,a){$.ajax({url:ajaxurl,method:"GET",data:{action:"edac_review_notice_ajax",review_action:e,nonce:edac_script_vars.nonce}}).done((function(e){if(!0===e.success){$.parseJSON(e.data);$(".edac-review-notice").fadeOut(),a&&(window.location.href="https://wordpress.org/support/plugin/accessibility-checker/reviews/#new-post")}else console.log(e)}))}$(".edac-review-notice").length&&($(".edac-review-notice-review").on("click",(function(){r("stop",!0)})),$(".edac-review-notice-remind").on("click",(function(){r("pause",!1)})),$(".edac-review-notice-dismiss").on("click",(function(){r("stop",!1)}))),e(),a(),t(),o()}))}(jQuery);